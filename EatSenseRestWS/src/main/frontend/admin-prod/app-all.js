/*
Copyright(c) 2011 Company Name
*/
Ext.require("Ext.container.Viewport");Ext.application({name:"eatSense DickPit",launch:function(){Ext.create("Ext.container.Viewport",{layout:"fit",id:"viewport",items:[{xtype:"panel",title:"eatSense DickPit",itemId:"wrapper",layout:{type:"fit",},items:[{xtype:"tabpanel",items:[{xtype:"panel",title:"data mass import",layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",html:"<h1>Use Textarea below to input json data containing restaurant, spot, menu informations. </h1>",height:20,style:{margin:"10px"}},{xtype:"textareafield",flex:1,id:"jsonData",allowBlank:false,name:"message",fieldLabel:"JSON data",labelAlign:"top",style:{margin:"10px"}},],dockedItems:[{xtype:"toolbar",dock:"bottom",items:[{xtype:"button",text:"Clear data field",handler:function(){Ext.getCmp("jsonData").setValue("")}},{xtype:"button",text:"Upload data",handler:function(){Ext.Ajax.request({url:"/restaurant/import",method:"PUT",scope:this,jsonData:Ext.getCmp("jsonData").getValue(),success:function(a){Ext.Msg.alert("Success","Upload finished")},failure:function(a){Ext.Msg.alert("Error",a.statusText)}})}},{xtype:"button",text:"Delete all datastore content",handler:function(){Ext.Msg.show({title:"ATTENTION",msg:"This will <strong>delete</strong> all data. <br/> This function will be removed in production.",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,fn:function(a){if(a=="yes"){Ext.Ajax.request({url:"/restaurant/deleteall",method:"GET",success:function(b){Ext.Msg.alert("Success","All data deleted. I'm sure you know what you did!")},failure:function(b){Ext.Msg.alert("Error",b.statusText)}})}}})}}]}]},{xtype:"panel",title:"empty tab",listeners:{render:function(){Ext.MessageBox.alert("Genius","Guess what. I'm empty!")}},dockedItems:[{xtype:"toolbar",dock:"bottom",items:[{xtype:"button",text:"Button 1"}]}]}]}]}]})}});
